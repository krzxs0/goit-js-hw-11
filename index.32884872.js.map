{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,IAAIC,EAAeC,SAASC,eAAe,eACvCC,EAASF,SAASC,eAAe,gBACjCE,EAAWH,SAASI,uBAAuB,aAAa,GACxDC,EAAcL,SAASM,cAAc,YACrCC,EAAc,EACdC,EAAa,EACbC,EAAS,GAEbN,EAASO,QAAUC,gBACXC,GAAgB,EAGxBV,EAAOQ,QAAUC,gBACTE,GAAc,EAUtBd,EAAae,iBAAiB,YAPPH,MAAOI,IACV,UAAdA,EAAMC,MACRD,EAAME,uBACAJ,I,IAMV,MAAMA,EAAeF,UACnB,GAAkC,IAA9BZ,EAAamB,MAAMC,OAErB,YADAC,SAASC,OAAOC,QAAQ,yCAG1Bf,EAAc,EACd,IAAIgB,QAAc,EAAA1B,EAAA2B,WAAUzB,EAAamB,OAEZ,IAAzBK,EAAME,KAAKC,WAIbN,SAASC,OAAOM,QAAQ,oBAAoBJ,EAAME,KAAKC,aAGzDlB,EAAaoB,KAAKC,KAAKN,EAAME,KAAKC,UAAY,IAE9CvB,EAAS2B,MAAMC,QAAU,QAEzBR,EAAME,KAAKO,KAAKC,SAASC,IACvBzB,EAAO0B,KAAK,CACVC,OAAQF,EAAIG,aACZC,KAAMJ,EAAII,KACVC,MAAOL,EAAIK,MACXC,MAAON,EAAIM,MACXC,SAAUP,EAAIO,SACdC,UAAWR,EAAIQ,WACf,IAGJrC,EAAYsC,UAAY,GAExBlC,EAAOwB,SAASW,IACd,MAAMC,EAAcC,EAAkBF,GACtCvC,EAAY0C,mBAAmB,YAAaF,EAAY,IAG1DtC,IAEAE,EAAS,IA9BPW,SAASC,OAAOC,QAAQ,2EA8Bf,EAGPV,EAAiBD,UACrB,IAAIY,QAAc,EAAA1B,EAAA2B,WAAUzB,EAAamB,MAAOX,GAEhDA,IAEAgB,EAAME,KAAKO,KAAKC,SAASC,IACvBzB,EAAO0B,KAAK,CACVC,OAAQF,EAAIG,aACZC,KAAMJ,EAAII,KACVC,MAAOL,EAAIK,MACXC,MAAON,EAAIM,MACXC,SAAUP,EAAIO,SACdC,UAAWR,EAAIQ,WACf,IAGJ,MAAMM,EAAkBvC,EAAOwC,IAAIH,GAAmBI,KAAK,IAC3D7C,EAAY0C,mBAAmB,YAAaC,GAE5CvC,EAAS,GAELF,EAAcC,IAChBL,EAAS2B,MAAMC,QAAU,OAAM,EAI7Be,EAAoB,EAACV,OAAEA,EAAME,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAAgB,+CAEnEN,WAAgBE,qGAIbC,oEAGAC,uEAGGC,wEAGCC","sources":["src/index.js"],"sourcesContent":["import { getImages } from \"./api.js\";\n\nlet inputElement = document.getElementById('inputSearch');\nlet button = document.getElementById('submitButton');\nlet loadmore = document.getElementsByClassName('load-more')[0];\nlet galleryList = document.querySelector('.gallery');\nlet pageCounter = 1;\nlet totalPages = 0; \nlet photos = [];\n\nloadmore.onclick = async () => {\n  await loadMoreImages();\n};\n\nbutton.onclick = async () => {\n  await searchImages();\n};\n\nconst handleKeyPress = async (event) => {\n  if (event.key === 'Enter') {\n    event.preventDefault(); \n    await searchImages();\n  }\n};\n\ninputElement.addEventListener('keypress', handleKeyPress);\n\nconst searchImages = async () => {\n  if (inputElement.value.length === 0) {\n    Notiflix.Notify.failure('Please enter something and try again!');\n    return;\n  }\n  pageCounter = 1\n  let query = await getImages(inputElement.value);\n\n  if (query.data.totalHits === 0) {\n    Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n    return;\n  } else {\n    Notiflix.Notify.success(`Hooray! we found ${query.data.totalHits}`);\n  }\n\n  totalPages = Math.ceil(query.data.totalHits / 20); \n\n  loadmore.style.display = 'block';\n\n  query.data.hits.forEach((hit) => {\n    photos.push({\n      imgURL: hit.webformatURL,\n      tags: hit.tags,\n      likes: hit.likes,\n      views: hit.views,\n      comments: hit.comments,\n      downloads: hit.downloads,\n    });\n  });\n\n  galleryList.innerHTML = ''; \n\n  photos.forEach((photo) => {\n    const galleryItem = createGalleryItem(photo);\n    galleryList.insertAdjacentHTML('beforeend', galleryItem);\n  });\n\n  pageCounter++;\n\n  photos = [];\n};\n\nconst loadMoreImages = async () => {\n  let query = await getImages(inputElement.value, pageCounter);\n\n  pageCounter++;\n\n  query.data.hits.forEach((hit) => {\n    photos.push({\n      imgURL: hit.webformatURL,\n      tags: hit.tags,\n      likes: hit.likes,\n      views: hit.views,\n      comments: hit.comments,\n      downloads: hit.downloads,\n    });\n  });\n\n  const newGalleryItems = photos.map(createGalleryItem).join('');\n  galleryList.insertAdjacentHTML('beforeend', newGalleryItems);\n\n  photos = [];\n\n  if (pageCounter > totalPages) {\n    loadmore.style.display = 'none'; \n  }\n};\n\nconst createGalleryItem = ({ imgURL, tags, likes, views, comments, downloads }) => `\n  <div class=\"photo-card\">\n    <img src=\"${imgURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    \n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes ${likes}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Views ${views}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Comments ${comments}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads ${downloads}</b>\n      </p>\n    </div>\n  </div>\n`;\n"],"names":["$2POL7","parcelRequire","$1f0dc3b9307be026$var$inputElement","document","getElementById","$1f0dc3b9307be026$var$button","$1f0dc3b9307be026$var$loadmore","getElementsByClassName","$1f0dc3b9307be026$var$galleryList","querySelector","$1f0dc3b9307be026$var$pageCounter","$1f0dc3b9307be026$var$totalPages","$1f0dc3b9307be026$var$photos","onclick","async","$1f0dc3b9307be026$var$loadMoreImages","$1f0dc3b9307be026$var$searchImages","addEventListener","event","key","preventDefault","value","length","Notiflix","Notify","failure","query","getImages","data","totalHits","success","Math","ceil","style","display","hits","forEach","hit","push","imgURL","webformatURL","tags","likes","views","comments","downloads","innerHTML","photo","galleryItem","$1f0dc3b9307be026$var$createGalleryItem","insertAdjacentHTML","newGalleryItems","map","join"],"version":3,"file":"index.32884872.js.map"}