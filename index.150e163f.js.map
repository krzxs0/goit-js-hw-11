{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,0BAEIC,EAAeC,SAASC,eAAe,eACvCC,EAASF,SAASC,eAAe,gBACjCE,EAAWH,SAASI,uBAAuB,aAAa,GACxDC,EAAcL,SAASM,cAAc,YACrCC,EAAc,EACdC,EAAa,EACbC,EAAS,GAEbN,EAASO,QAAUC,EAAAd,EAAA,CAAAc,EAAAC,GAAAC,MAAA,SAAAC,I,kFACXC,I,2CAGRb,EAAOQ,QAAUC,EAAAd,EAAA,CAAAc,EAAAC,GAAAC,MAAA,SAAAC,I,kFACTE,I,2CAGR,I,EAAMC,G,EAAiBN,EAAAd,EAAA,CAAAc,EAAAC,GAAAC,MAAA,SAAAC,EAAOI,G,qEACV,UAAdA,EAAMC,IAAe,C,sBACvBD,EAAME,iB,SACAJ,I,oDAHoBE,G,iCAO9BnB,EAAasB,iBAAiB,WAAYJ,GAE1C,IAAMD,EAAY,W,MAAGL,EAAAd,EAAA,CAAAc,EAAAC,GAAAC,MAAA,SAAAC,I,IAMfQ,E,qEAL8B,IAA9BvB,EAAawB,MAAMC,OAAY,C,sBACjCC,SAASC,OAAOC,QAAQ,yC,iCAG1BpB,EAAc,E,UACI,EAAAqB,EAAAC,WAAU9B,EAAawB,O,UAEZ,KAFzBD,EAAKQ,EAAAC,MAECC,KAAKC,UAAe,C,uBAC5BR,SAASC,OAAOC,QAAQ,4E,2BAGxBF,SAASC,OAAOQ,QAAQ,oBAAyCC,OAArBb,EAAMU,KAAKC,Y,QAGzDzB,EAAa4B,KAAKC,KAAKf,EAAMU,KAAKC,UAAY,IAE9C9B,EAASmC,MAAMC,QAAU,QAEzBjB,EAAMU,KAAKQ,KAAKC,SAAQ,SAACC,GACvBjC,EAAOkC,KAAK,CACVC,OAAQF,EAAIG,aACZC,KAAMJ,EAAII,KACVC,MAAOL,EAAIK,MACXC,MAAON,EAAIM,MACXC,SAAUP,EAAIO,SACdC,UAAWR,EAAIQ,W,IAInB7C,EAAY8C,UAAY,GAExB1C,EAAOgC,SAAQ,SAACW,GACd,IAAMC,EAAcC,EAAkBF,GACtC/C,EAAYkD,mBAAmB,YAAaF,E,IAG9C9C,IAEAE,EAAS,G,8FAvCO,GA0CZM,EAAc,W,MAAGJ,EAAAd,EAAA,CAAAc,EAAAC,GAAAC,MAAA,SAAAC,I,IACjBQ,EAeEkC,E,mFAfY,EAAA5B,EAAAC,WAAU9B,EAAawB,MAAOhB,G,OAA5Ce,EAAKQ,EAAAC,KAETxB,IAEAe,EAAMU,KAAKQ,KAAKC,SAAQ,SAACC,GACvBjC,EAAOkC,KAAK,CACVC,OAAQF,EAAIG,aACZC,KAAMJ,EAAII,KACVC,MAAOL,EAAIK,MACXC,MAAON,EAAIM,MACXC,SAAUP,EAAIO,SACdC,UAAWR,EAAIQ,W,IAIbM,EAAkB/C,EAAOgD,IAAIH,GAAmBI,KAAK,IAC3DrD,EAAYkD,mBAAmB,YAAaC,GAE5C/C,EAAS,GAELF,EAAcC,IAChBL,EAASmC,MAAMC,QAAU,Q,6FAtBT,GA0Bde,EAAoB,SAAAK,G,IAAGf,EAAMe,EAANf,OAAQE,EAAIa,EAAJb,KAAMC,EAAKY,EAALZ,MAAOC,EAAKW,EAALX,MAAOC,EAAQU,EAARV,SAAUC,EAASS,EAATT,U,MAAgB,+CAEnDf,OAAhBS,EAAO,WAIJT,OAJaW,EAAK,qGAOlBX,OAHAY,EAAM,oEAMHZ,OAHHa,EAAM,uEAMFb,OAHDc,EAAS,wEAGEd,OAAVe,EAAU,2C","sources":["src/index.js"],"sourcesContent":["import { getImages } from \"./api.js\";\n\nlet inputElement = document.getElementById('inputSearch');\nlet button = document.getElementById('submitButton');\nlet loadmore = document.getElementsByClassName('load-more')[0];\nlet galleryList = document.querySelector('.gallery');\nlet pageCounter = 1;\nlet totalPages = 0; \nlet photos = [];\n\nloadmore.onclick = async () => {\n  await loadMoreImages();\n};\n\nbutton.onclick = async () => {\n  await searchImages();\n};\n\nconst handleKeyPress = async (event) => {\n  if (event.key === 'Enter') {\n    event.preventDefault(); \n    await searchImages();\n  }\n};\n\ninputElement.addEventListener('keypress', handleKeyPress);\n\nconst searchImages = async () => {\n  if (inputElement.value.length === 0) {\n    Notiflix.Notify.failure('Please enter something and try again!');\n    return;\n  }\n  pageCounter = 1\n  let query = await getImages(inputElement.value);\n\n  if (query.data.totalHits === 0) {\n    Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n    return;\n  } else {\n    Notiflix.Notify.success(`Hooray! we found ${query.data.totalHits}`);\n  }\n\n  totalPages = Math.ceil(query.data.totalHits / 20); \n\n  loadmore.style.display = 'block';\n\n  query.data.hits.forEach((hit) => {\n    photos.push({\n      imgURL: hit.webformatURL,\n      tags: hit.tags,\n      likes: hit.likes,\n      views: hit.views,\n      comments: hit.comments,\n      downloads: hit.downloads,\n    });\n  });\n\n  galleryList.innerHTML = ''; \n\n  photos.forEach((photo) => {\n    const galleryItem = createGalleryItem(photo);\n    galleryList.insertAdjacentHTML('beforeend', galleryItem);\n  });\n\n  pageCounter++;\n\n  photos = [];\n};\n\nconst loadMoreImages = async () => {\n  let query = await getImages(inputElement.value, pageCounter);\n\n  pageCounter++;\n\n  query.data.hits.forEach((hit) => {\n    photos.push({\n      imgURL: hit.webformatURL,\n      tags: hit.tags,\n      likes: hit.likes,\n      views: hit.views,\n      comments: hit.comments,\n      downloads: hit.downloads,\n    });\n  });\n\n  const newGalleryItems = photos.map(createGalleryItem).join('');\n  galleryList.insertAdjacentHTML('beforeend', newGalleryItems);\n\n  photos = [];\n\n  if (pageCounter > totalPages) {\n    loadmore.style.display = 'none'; \n  }\n};\n\nconst createGalleryItem = ({ imgURL, tags, likes, views, comments, downloads }) => `\n  <div class=\"photo-card\">\n    <img src=\"${imgURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    \n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes ${likes}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Views ${views}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Comments ${comments}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads ${downloads}</b>\n      </p>\n    </div>\n  </div>\n`;\n"],"names":["$bpxeT","parcelRequire","$b8f9b7833fa37166$var$inputElement","document","getElementById","$b8f9b7833fa37166$var$button","$b8f9b7833fa37166$var$loadmore","getElementsByClassName","$b8f9b7833fa37166$var$galleryList","querySelector","$b8f9b7833fa37166$var$pageCounter","$b8f9b7833fa37166$var$totalPages","$b8f9b7833fa37166$var$photos","onclick","$parcel$interopDefault","$2TvXO","mark","_callee","$b8f9b7833fa37166$var$loadMoreImages","$b8f9b7833fa37166$var$searchImages","$b8f9b7833fa37166$var$handleKeyPress","event","key","preventDefault","addEventListener","query","value","length","Notiflix","Notify","failure","$446fK","getImages","_ctx","sent","data","totalHits","success","concat","Math","ceil","style","display","hits","forEach","hit","push","imgURL","webformatURL","tags","likes","views","comments","downloads","innerHTML","photo","galleryItem","$b8f9b7833fa37166$var$createGalleryItem","insertAdjacentHTML","newGalleryItems","map","join","param"],"version":3,"file":"index.150e163f.js.map"}