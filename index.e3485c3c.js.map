{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,0BAEIC,EAAeC,SAASC,eAAe,eACvCC,EAASF,SAASC,eAAe,gBACjCE,EAAWH,SAASI,uBAAuB,aAAa,GACxDC,EAAcL,SAASM,cAAc,YACrCC,EAAc,EACdC,EAAS,GAEbL,EAASM,QAAUC,EAAAb,EAAA,CAAAa,EAAAC,GAAAC,MAAA,SAAAC,I,kFACXC,I,2CAGRZ,EAAOO,QAAUC,EAAAb,EAAA,CAAAa,EAAAC,GAAAC,MAAA,SAAAC,I,kFACTE,I,2CAGR,I,EAAMC,G,EAAiBN,EAAAb,EAAA,CAAAa,EAAAC,GAAAC,MAAA,SAAAC,EAAOI,G,qEACV,UAAdA,EAAMC,IAAe,C,sBACvBD,EAAME,iB,SACAJ,I,oDAHoBE,G,iCAO9BlB,EAAaqB,iBAAiB,WAAYJ,GAE1C,IAAMD,EAAY,W,MAAGL,EAAAb,EAAA,CAAAa,EAAAC,GAAAC,MAAA,SAAAC,I,IAMfQ,E,qEAL8B,IAA9BtB,EAAauB,MAAMC,OAAY,C,sBACjCC,SAASC,OAAOC,QAAQ,yC,iCAG1BnB,EAAc,E,UACI,EAAAoB,EAAAC,WAAU7B,EAAauB,O,UAEZ,KAFzBD,EAAKQ,EAAAC,MAECC,KAAKC,UAAe,C,uBAC5BR,SAASC,OAAOC,QAAQ,4E,2BAGxBF,SAASC,OAAOQ,QAAQ,oBAAyCC,OAArBb,EAAMU,KAAKC,Y,QAGzD7B,EAASgC,MAAMC,QAAU,QAEzBf,EAAMU,KAAKM,KAAKC,SAAQ,SAACC,GACvB/B,EAAOgC,KAAK,CACVC,OAAQF,EAAIG,aACZC,KAAMJ,EAAII,KACVC,MAAOL,EAAIK,MACXC,MAAON,EAAIM,MACXC,SAAUP,EAAIO,SACdC,UAAWR,EAAIQ,W,IAInB1C,EAAY2C,UAAY,GAExBxC,EAAO8B,SAAQ,SAACW,GACd,IAAMC,EAAcC,EAAkBF,GACtC5C,EAAY+C,mBAAmB,YAAaF,E,IAG9C3C,IAEAC,EAAS,G,8FArCO,GAwCZM,EAAc,W,MAAGJ,EAAAb,EAAA,CAAAa,EAAAC,GAAAC,MAAA,SAAAC,I,IACjBQ,EAeEgC,E,mFAfY,EAAA1B,EAAAC,WAAU7B,EAAauB,MAAOf,G,OAA5Cc,EAAKQ,EAAAC,KAETvB,IAEAc,EAAMU,KAAKM,KAAKC,SAAQ,SAACC,GACvB/B,EAAOgC,KAAK,CACVC,OAAQF,EAAIG,aACZC,KAAMJ,EAAII,KACVC,MAAOL,EAAIK,MACXC,MAAON,EAAIM,MACXC,SAAUP,EAAIO,SACdC,UAAWR,EAAIQ,W,IAIbM,EAAkB7C,EAAO8C,IAAIH,GAAmBI,KAAK,IAC3DlD,EAAY+C,mBAAmB,YAAaC,GAE5C7C,EAAS,G,6FAnBS,GAuBd2C,EAAoB,SAAAK,G,IAAGf,EAAMe,EAANf,OAAQE,EAAIa,EAAJb,KAAMC,EAAKY,EAALZ,MAAOC,EAAKW,EAALX,MAAOC,EAAQU,EAARV,SAAUC,EAASS,EAATT,U,MAAgB,+CAEnDb,OAAhBO,EAAO,WAIJP,OAJaS,EAAK,qGAOlBT,OAHAU,EAAM,oEAMHV,OAHHW,EAAM,uEAMFX,OAHDY,EAAS,wEAGEZ,OAAVa,EAAU,2C","sources":["src/index.js"],"sourcesContent":["import { getImages } from \"./api.js\";\n\nlet inputElement = document.getElementById('inputSearch');\nlet button = document.getElementById('submitButton');\nlet loadmore = document.getElementsByClassName('load-more')[0];\nlet galleryList = document.querySelector('.gallery');\nlet pageCounter = 1;\nlet photos = [];\n\nloadmore.onclick = async () => {\n  await loadMoreImages();\n};\n\nbutton.onclick = async () => {\n  await searchImages();\n};\n\nconst handleKeyPress = async (event) => {\n  if (event.key === 'Enter') {\n    event.preventDefault(); \n    await searchImages();\n  }\n};\n\ninputElement.addEventListener('keypress', handleKeyPress);\n\nconst searchImages = async () => {\n  if (inputElement.value.length === 0) {\n    Notiflix.Notify.failure('Please enter something and try again!');\n    return;\n  }\n  pageCounter = 1\n  let query = await getImages(inputElement.value);\n\n  if (query.data.totalHits === 0) {\n    Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n    return;\n  } else {\n    Notiflix.Notify.success(`Hooray! we found ${query.data.totalHits}`);\n  }\n\n  loadmore.style.display = 'block';\n\n  query.data.hits.forEach((hit) => {\n    photos.push({\n      imgURL: hit.webformatURL,\n      tags: hit.tags,\n      likes: hit.likes,\n      views: hit.views,\n      comments: hit.comments,\n      downloads: hit.downloads,\n    });\n  });\n\n  galleryList.innerHTML = ''; \n\n  photos.forEach((photo) => {\n    const galleryItem = createGalleryItem(photo);\n    galleryList.insertAdjacentHTML('beforeend', galleryItem);\n  });\n\n  pageCounter++;\n\n  photos = [];\n};\n\nconst loadMoreImages = async () => {\n  let query = await getImages(inputElement.value, pageCounter);\n\n  pageCounter++;\n\n  query.data.hits.forEach((hit) => {\n    photos.push({\n      imgURL: hit.webformatURL,\n      tags: hit.tags,\n      likes: hit.likes,\n      views: hit.views,\n      comments: hit.comments,\n      downloads: hit.downloads,\n    });\n  });\n\n  const newGalleryItems = photos.map(createGalleryItem).join('');\n  galleryList.insertAdjacentHTML('beforeend', newGalleryItems);\n\n  photos = [];\n};\n\n\nconst createGalleryItem = ({ imgURL, tags, likes, views, comments, downloads }) => `\n  <div class=\"photo-card\">\n    <img src=\"${imgURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    \n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes ${likes}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Views ${views}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Comments ${comments}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads ${downloads}</b>\n      </p>\n    </div>\n  </div>\n`;"],"names":["$bpxeT","parcelRequire","$b8f9b7833fa37166$var$inputElement","document","getElementById","$b8f9b7833fa37166$var$button","$b8f9b7833fa37166$var$loadmore","getElementsByClassName","$b8f9b7833fa37166$var$galleryList","querySelector","$b8f9b7833fa37166$var$pageCounter","$b8f9b7833fa37166$var$photos","onclick","$parcel$interopDefault","$2TvXO","mark","_callee","$b8f9b7833fa37166$var$loadMoreImages","$b8f9b7833fa37166$var$searchImages","$b8f9b7833fa37166$var$handleKeyPress","event","key","preventDefault","addEventListener","query","value","length","Notiflix","Notify","failure","$446fK","getImages","_ctx","sent","data","totalHits","success","concat","style","display","hits","forEach","hit","push","imgURL","webformatURL","tags","likes","views","comments","downloads","innerHTML","photo","galleryItem","$b8f9b7833fa37166$var$createGalleryItem","insertAdjacentHTML","newGalleryItems","map","join","param"],"version":3,"file":"index.e3485c3c.js.map"}